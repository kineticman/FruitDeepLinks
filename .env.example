# ==========================================
# FruitDeepLinks Configuration (.env.example)
# ==========================================
# Copy this file to ".env" and edit the values as needed.
#
# QUICK SETUP: The most common things to change are:
#   - SERVER_URL
#   - FRUIT_HOST_PORT
#   - CHANNELS_DVR_IP
#   - TZ
#   - FRUIT_LANES / FRUIT_LANE_START_CH (optional)
#   - CDVR_DVR_PATH (if using CDVR Detector - see below)
# ------------------------------------------
# 1) Basic Network & Channels DVR Settings
# ------------------------------------------
# URL where YOU will reach FruitDeepLinks from your LAN.
# Use your server's LAN IP and the host port from FRUIT_HOST_PORT.
SERVER_URL=http://192.168.86.80:6655

# Host port where Docker will expose the web UI & API.
# If another service already uses 6655, change this (e.g. 6767).
FRUIT_HOST_PORT=6655

# Channels DVR Integration (optional, for automatic source refresh)
CHANNELS_DVR_IP=192.168.86.80
CHANNELS_SOURCE_NAME=fruitdeeplinks

# Timezone (adjust for your location)
TZ=America/New_York

# ------------------------------------------
# 2) Lane Configuration
# ------------------------------------------
# Most people only need to touch FRUIT_LANES and FRUIT_LANE_START_CH.
FRUIT_LANES=50
FRUIT_LANE_START_CH=9000
FRUIT_DAYS_AHEAD=7
FRUIT_PADDING_MINUTES=45
FRUIT_PLACEHOLDER_BLOCK_MINUTES=60
FRUIT_PLACEHOLDER_EXTRA_DAYS=5

# ------------------------------------------
# 3) CDVR Detector (BETA) - Auto-launch streaming apps
# ------------------------------------------
# Enable automatic deeplink detection for Channels DVR.
# When you tune to a "Fruit Lane" channel, the streaming app launches automatically!
#
# SETUP:
# 1. Set CDVR_DVR_PATH to your DVR's base directory (where Imports folder lives)
#    Examples:
#      Linux:   /mnt/storage/DVR
#      macOS:   /Volumes/Storage/DVR
#      Synology: /volume1/DVR
# 2. Import http://your-ip:6655/out/multisource_lanes.m3u as Custom Channels in CDVR
# 3. Import http://your-ip:6655/out/multisource_lanes.xml as EPG source
# 4. Tune to a Fruit Lane channel - the app launches automatically!
#
# Leave blank to disable the detector feature.
CDVR_DVR_PATH=/media/brad/DVR

# CDVR Server settings (usually same as CHANNELS_DVR_IP)
CDVR_SERVER_PORT=8089
CDVR_API_PORT=57000

# ------------------------------------------
# 4) Scraper Settings (usually leave as-is)
# ------------------------------------------
# Run AppleTV scraper headless (no visible browser window).
HEADLESS=true

# For debugging only; normally leave false.
NO_NETWORK=false

# ------------------------------------------
# 5) Paths & Logging (advanced, rarely changed)
# ------------------------------------------
# Database path inside the container.
FRUIT_DB_PATH=/app/data/fruit_events.db

# Logging config
LOG_LEVEL=INFO
LOG_DIR=/app/logs

# Output directory inside the container
OUT_DIR=/app/out

# ------------------------------------------
# 6) Auto-refresh & Rate Limits (advanced)
# ------------------------------------------
# Auto-refresh (also controllable via web UI)
AUTO_REFRESH_ENABLED=true
AUTO_REFRESH_TIME=02:30

# Rate limiting for multi_scraper
SCRAPER_TERM_TIME_LIMIT=180
SCRAPER_GLOBAL_TIME_LIMIT=0

# ------------------------------------------
# 7) Internal Server Settings (do NOT change unless you know why)
# ------------------------------------------
# PORT is the port INSIDE the container (Flask listens here).
# HOST is the bind address inside the container.
# These must stay in sync with the Dockerfile / healthcheck.
PORT=6655
HOST=0.0.0.0
